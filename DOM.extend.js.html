<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>better-dom Source: DOM.extend.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.spacelab.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">better-dom</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="DOM.html">DOM</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="$CompositeElement.html">$CompositeElement</a>
						</li>
						
						<li>
							<a href="$Element.html">$Element</a>
						</li>
						
						<li>
							<a href="$Node.html">$Node</a>
						</li>
						
						<li>
							<a href="$NullElement.html">$NullElement</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: DOM.extend.js</h1>
    
    <section>
        <article>
            <pre class="sunlight-highlight-javascript ">define(["DOM", "Element"], function(DOM, $Element, $NullElement, _map, _forOwn, _forEach, _extend, _slice, _makeError) {
    "use strict";

    (function(){
        var watchers = {};

        /**
         * Define a DOM extension
         * @memberOf DOM
         * @param  {String}          selector extension css selector
         * @param  {Object|Function} mixins   extension mixins/constructor function
         * @example
         * DOM.extend(".myplugin", {
         *     constructor: function() {
         *         // initialize extension
         *     },
         *     method: function() {
         *         // this method will be mixed into every matched element
         *     }
         * });
         */
        DOM.extend = function(selector, mixins) {
            if (typeof mixins === "function") mixins = {constructor: mixins};

            if (!mixins || typeof mixins !== "object") {
                throw _makeError("extend", this);
            }

            if (selector === "*") {
                // extending element prototype
                _extend($Element.prototype, mixins);
            } else {
                var watcher = function(el) {
                        _extend(el, mixins);

                        if (mixins.hasOwnProperty("constructor")) {
                            mixins.constructor.apply(el);

                            el.constructor = $Element;
                        }
                    };

                (watchers[selector] = watchers[selector] || []).push(watcher);

                DOM.watch(selector, watcher, true);
            }

            return this;
        };

        /**
         * Synchronously return dummy {@link $Element} instance specified for optional selector
         * @memberOf DOM
         * @param  {Mixed} [content] mock element content
         * @return {$Element} mock instance
         */
        DOM.mock = function(content) {
            var el = content ? DOM.create(content) : new $NullElement(),
                applyWatchers = function(el) {
                    _forOwn(watchers, function(watchers, selector) {
                        if (el.matches(selector)) {
                            _forEach(watchers, function(watcher) { watcher(el); });
                        }
                    });

                    el.children().each(applyWatchers);
                };

            if (content) applyWatchers(el);

            return el;
        };
    }());
});
</pre>
        </article>
    </section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a>
		on Sun Sep 15 2013 12:46:22 GMT+0300 (FET) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:false,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
