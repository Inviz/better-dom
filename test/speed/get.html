<!doctype html>
<html lang="en">
  <head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Benchmark Runner</title>

    <link href="lib/benchmine/benchmine.css" rel="stylesheet">
    <link href="../../components/google-code-prettify/src/prettify.css" rel="stylesheet">

    <!-- Prettify -->
    <script src="../../components/google-code-prettify/src/prettify.js"></script>
    <!-- D3.js -->
    <!-- <script src="lib/d3-2.7.0/d3.js"></script>-->
    <!-- Platform.js -->
    <script src="../../node_modules/platform/platform.js"></script>
    <!-- Benchmark.js -->
    <script src="../../node_modules/benchmark/benchmark.js"></script>

    <!-- Benchmine -->
    <script src="lib/benchmine/benchmine-env.js"></script>
    <script src="lib/benchmine/benchmine-html.js"></script>
    <script src="lib/benchmine/benchmine-report-table.js"></script>
    <script src="lib/benchmine/benchmine-report-chart.js"></script>

    <!-- Suites -->

    <script src="../../components/jquery/jquery.js"></script>
    <script src="../../src/better-dom.js" data-htc="better-dom.htc"></script>
  </head>

  <body>
    <a href="#" id="test1" data-test="t1"></a>
    <a href="#" id="test2" data-test="t2"></a>
    <a href="#" id="test3" data-test="t3"></a>

    <script>
    suite('DOMElement.get', function () {
        var nativeLink = document.getElementById("test1"),
            jqueryLink = $("#test2"),
            domLink = DOM.find("#test3");

        benchmark('jquery#attr', function() {
            jqueryLink.attr("id");
        });

        benchmark('jquery#prop', function() {
            jqueryLink.prop("id");
        });

        benchmark('DOMElement.get', function() {
            domLink.get("id");
        });

        benchmark('native#getAttribute', function() {
            nativeLink.getAttribute("id");
        });

        benchmark('native#get', function() {
            nativeLink.id;
        });
    });
    </script>

    <script>
      (function() {
        var execBenchmine = function () {
          var benchmineEnv = Benchmine.getEnv();
          benchmineEnv.show();

          var tableReporter   = new Benchmine.TableReporter();
          //var chartReporter   = new Benchmine.ChartReporter();
          
          benchmineEnv.addReporter(tableReporter);
          //benchmineEnv.addReporter(chartReporter);
        }

        var currentWindowOnload = window.onload;
        window.onload = function() {
          if (currentWindowOnload) {
            currentWindowOnload();
          }
          execBenchmine();
          prettyPrint();
        };
      })();
    </script>
  </body>
</html>
